{"ast":null,"code":"import { api } from \"@/api\";\nimport { createStore } from \"vuex\";\nexport default createStore({\n  state: {\n    shows: [],\n    artists: [],\n    locations: []\n  },\n  getters: {\n    allShows(state) {\n      return state.shows;\n    },\n    allArtists(state) {\n      return state.artists;\n    },\n    allLocations(state) {\n      return state.locations;\n    },\n    filteredShows: state => (artist, location, date) => {\n      let shows = state.shows;\n      if (artist) {\n        shows = shows.filter(show => show.artist === artist);\n      }\n      if (location) {\n        shows = shows.filter(show => show.location === location);\n      }\n      if (date) {\n        shows = shows.filter(show => new Date(date).toLocaleDateString() === show.start.toLocaleDateString());\n      }\n      return shows;\n    }\n  },\n  mutations: {\n    setShows(state, payload) {\n      state.shows = payload;\n    },\n    setArtists(state, payload) {\n      state.artists = payload;\n    },\n    setLocations(state, payload) {\n      state.locations = payload;\n    }\n  },\n  actions: {\n    async fetchConcerts({\n      commit,\n      state\n    }) {\n      const response = await api.get(\"concerts\");\n      const shows = response.data.concerts.map(concert => {\n        return concert.shows.map(show => {\n          return {\n            id: show.id,\n            artist: concert.artist,\n            location: concert.location.name,\n            start: new Date(show.start),\n            end: new Date(show.end),\n            concertId: concert.id\n          };\n        });\n      }).flat();\n      commit(\"setShows\", shows);\n      commit(\"setArtists\", [...new Set(shows.map(show => show.artist))]);\n      commit(\"setLocations\", [...new Set(shows.map(show => show.location))]);\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["api","createStore","state","shows","artists","locations","getters","allShows","allArtists","allLocations","filteredShows","artist","location","date","filter","show","Date","toLocaleDateString","start","mutations","setShows","payload","setArtists","setLocations","actions","fetchConcerts","commit","response","get","data","concerts","map","concert","id","name","end","concertId","flat","Set","modules"],"sources":["/home/vlad/Code/front/src/store/index.js"],"sourcesContent":["import { api } from \"@/api\";\nimport { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {\n    shows: [],\n    artists: [],\n    locations: [],\n  },\n  getters: {\n    allShows(state) {\n      return state.shows;\n    },\n    allArtists(state) {\n      return state.artists;\n    },\n    allLocations(state) {\n      return state.locations;\n    },\n    filteredShows: (state) => (artist, location, date) => {\n      let shows = state.shows;\n      if (artist) {\n        shows = shows.filter((show) => show.artist === artist);\n      }\n      if (location) {\n        shows = shows.filter((show) => show.location === location);\n      }\n      if (date) {\n        shows = shows.filter(\n          (show) =>\n            new Date(date).toLocaleDateString() ===\n            show.start.toLocaleDateString()\n        );\n      }\n      return shows;\n    },\n  },\n  mutations: {\n    setShows(state, payload) {\n      state.shows = payload;\n    },\n    setArtists(state, payload) {\n      state.artists = payload;\n    },\n    setLocations(state, payload) {\n      state.locations = payload;\n    },\n  },\n  actions: {\n    async fetchConcerts({ commit, state }) {\n      const response = await api.get(\"concerts\");\n      const shows = response.data.concerts\n        .map((concert) => {\n          return concert.shows.map((show) => {\n            return {\n              id: show.id,\n              artist: concert.artist,\n              location: concert.location.name,\n              start: new Date(show.start),\n              end: new Date(show.end),\n              concertId: concert.id,\n            };\n          });\n        })\n        .flat();\n      commit(\"setShows\", shows);\n      commit(\"setArtists\", [...new Set(shows.map((show) => show.artist))]);\n      commit(\"setLocations\", [...new Set(shows.map((show) => show.location))]);\n    },\n  },\n  modules: {},\n});\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,OAAO;AAC3B,SAASC,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,SAAS,EAAE;EACb,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAACL,KAAK,EAAE;MACd,OAAOA,KAAK,CAACC,KAAK;IACpB,CAAC;IACDK,UAAUA,CAACN,KAAK,EAAE;MAChB,OAAOA,KAAK,CAACE,OAAO;IACtB,CAAC;IACDK,YAAYA,CAACP,KAAK,EAAE;MAClB,OAAOA,KAAK,CAACG,SAAS;IACxB,CAAC;IACDK,aAAa,EAAGR,KAAK,IAAK,CAACS,MAAM,EAAEC,QAAQ,EAAEC,IAAI,KAAK;MACpD,IAAIV,KAAK,GAAGD,KAAK,CAACC,KAAK;MACvB,IAAIQ,MAAM,EAAE;QACVR,KAAK,GAAGA,KAAK,CAACW,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACJ,MAAM,KAAKA,MAAM,CAAC;MACxD;MACA,IAAIC,QAAQ,EAAE;QACZT,KAAK,GAAGA,KAAK,CAACW,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACH,QAAQ,KAAKA,QAAQ,CAAC;MAC5D;MACA,IAAIC,IAAI,EAAE;QACRV,KAAK,GAAGA,KAAK,CAACW,MAAM,CACjBC,IAAI,IACH,IAAIC,IAAI,CAACH,IAAI,CAAC,CAACI,kBAAkB,EAAE,KACnCF,IAAI,CAACG,KAAK,CAACD,kBAAkB,EAAE,CAClC;MACH;MACA,OAAOd,KAAK;IACd;EACF,CAAC;EACDgB,SAAS,EAAE;IACTC,QAAQA,CAAClB,KAAK,EAAEmB,OAAO,EAAE;MACvBnB,KAAK,CAACC,KAAK,GAAGkB,OAAO;IACvB,CAAC;IACDC,UAAUA,CAACpB,KAAK,EAAEmB,OAAO,EAAE;MACzBnB,KAAK,CAACE,OAAO,GAAGiB,OAAO;IACzB,CAAC;IACDE,YAAYA,CAACrB,KAAK,EAAEmB,OAAO,EAAE;MAC3BnB,KAAK,CAACG,SAAS,GAAGgB,OAAO;IAC3B;EACF,CAAC;EACDG,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAC;MAAEC,MAAM;MAAExB;IAAM,CAAC,EAAE;MACrC,MAAMyB,QAAQ,GAAG,MAAM3B,GAAG,CAAC4B,GAAG,CAAC,UAAU,CAAC;MAC1C,MAAMzB,KAAK,GAAGwB,QAAQ,CAACE,IAAI,CAACC,QAAQ,CACjCC,GAAG,CAAEC,OAAO,IAAK;QAChB,OAAOA,OAAO,CAAC7B,KAAK,CAAC4B,GAAG,CAAEhB,IAAI,IAAK;UACjC,OAAO;YACLkB,EAAE,EAAElB,IAAI,CAACkB,EAAE;YACXtB,MAAM,EAAEqB,OAAO,CAACrB,MAAM;YACtBC,QAAQ,EAAEoB,OAAO,CAACpB,QAAQ,CAACsB,IAAI;YAC/BhB,KAAK,EAAE,IAAIF,IAAI,CAACD,IAAI,CAACG,KAAK,CAAC;YAC3BiB,GAAG,EAAE,IAAInB,IAAI,CAACD,IAAI,CAACoB,GAAG,CAAC;YACvBC,SAAS,EAAEJ,OAAO,CAACC;UACrB,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC,CACDI,IAAI,EAAE;MACTX,MAAM,CAAC,UAAU,EAAEvB,KAAK,CAAC;MACzBuB,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,IAAIY,GAAG,CAACnC,KAAK,CAAC4B,GAAG,CAAEhB,IAAI,IAAKA,IAAI,CAACJ,MAAM,CAAC,CAAC,CAAC,CAAC;MACpEe,MAAM,CAAC,cAAc,EAAE,CAAC,GAAG,IAAIY,GAAG,CAACnC,KAAK,CAAC4B,GAAG,CAAEhB,IAAI,IAAKA,IAAI,CAACH,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1E;EACF,CAAC;EACD2B,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}